\documentclass{beamer}
\usepackage{mathpazo}
\usepackage[latin1]{inputenc}
\usepackage[cyr]{aeguill}
\usepackage[francais]{babel}
\usepackage[T1]{fontenc}


\usepackage{epstopdf} 
\usepackage{caption}
\usepackage{subcaption}


\usetheme{ENSLyon} 
\title[Title]{Une méthode de calibration non paramétrique pour les calorimètres de CMS}
\author[Samuel Niang]{Samuel Niang}
\date{\today}
  \setbeamersize{text margin left=5mm}
  \setbeamersize{text margin right=5mm}


% pour supprimer les symboles de navigation
\setbeamertemplate{navigation symbols}{}
\usecolortheme{ENSLyon_blue}


\begin{document}



\begin{frame}
	\titlepage
	\begin{center}
            	\includegraphics[height=1cm]{images/Logo_IPNL.jpg} 
            	\hspace{1cm}
            	\includegraphics[height=1cm]{images/Logo_CMS.png} 
		\hspace{1cm}
	 	\includegraphics[height=1cm]{images/logoens.eps}
		\hspace{1cm}
		\includegraphics[height=1cm]{images/logoucbl.eps}
        \end{center}
\end{frame}

\begin{frame}
\tableofcontents
\end{frame}

\section{Introduction}
\subsection{Contexte}
\begin{frame}{CMS}
	\begin{itemize}
		\item Découverte du boson de Higgs en 2012
		\item Recherche de nouvelle physique au-delà du modèle standard
		\item utilisation de détecteurs 
		\item Comment fonctionne CMS ?
	\end{itemize}
\end{frame}

\begin{frame}{Détecteur}
\begin{figure}[!h]
\begin{center}
\includegraphics[height=0.7\textheight]{images/detecteur.pdf}
\caption{Une esquisse des interactions spécifiques des particules dans une tranche transversale du détecteur CMS.}
\label{detecteur}
\end{center}
\end{figure}
\end{frame}

\begin{frame}{Problématique}
	\begin{center}
	\textbf{Il nous faut connaitre l'énergie ($E_{\rm true}$) des particules qui entrent dans le détecteur}
	\end{center}
	\begin{itemize}
		\item $E_{\rm true} \neq E_{\rm ecal} + E_{\rm hcal}$
		\item non linéarité des calorimètres ECAL, HCAL
		\item besoin d'une calibration $E_{\rm calib} = f(E_{\rm ecal},E_{\rm hcal})$
	\end{itemize}
	On souhaite une calibration :
	\begin{itemize}
		\item $E_{\rm calib}$ le plus proche possible de $E_{\rm true}$
		\item Calibration non paramétrique
	\end{itemize}
	\begin{center}
	\textbf{Utilisation de particules simulées}
	\end{center}
\end{frame}

\subsection{Production de l'échantillon}
\begin{frame}{Illustration de particules simulées}
\begin{figure}[!h]
\begin{center}
\includegraphics[height=0.7\textheight]{images/pictures/testLinearRegression/LinearRegression_plot3D_training.png}
\includegraphics[height=0.7\textheight]{images/pictures/explain/ecal_eq_0.png}
\caption{\'Energie vraie $E_{\rm true}$ en fonction de l'énergie mesurée dans le ECAL, $E_{\rm ecal} \neq 0$, et de l'énergie mesurée dans le HCAL.}
\label{points}
\end{center}
\end{figure}
\end{frame}

\begin{frame}{Limitation}
\begin{figure}[!h]
    \begin{center}
        \includegraphics[height=0.7\textheight]{images/pictures/explain/limit.png}
        \caption{On place une limite à $E_{\rm ecal}+E_{\rm hcal} = \SIUnits{150}{\giga\electronvolt}$}
        \label{limite}
    \end{center}
\end{figure}
\end{frame}

\section{Méthodes de calibrations proposées}

\subsection{Calibration par régression linéaire}
\begin{frame}{La régression linéaire}
	\begin{minipage}{0.55\textwidth}
	Modèle paramétrique :
	\begin{equation}
    		E_{\rm calib} = a_1 E_{\rm ecal} + a_2 E_{\rm hcal} + b
	\end{equation}
	Minimisation de :
	\begin{equation}
		\epsilon = \sum_{n=1}^N  \left(E_{\rm true} - a_1 E_{\rm ecal} - a_2 E_{\rm hcal} - b \right)^2
	\end{equation}
	\end{minipage}
	\begin{minipage}{0.44\textwidth}
	\includegraphics[width = \textwidth]{images/pictures/testLinearRegression/LinearRegression_plot3D_surf.eps}
	\end{minipage}
\end{frame}

\begin{frame}{La régression linéaire}
	\begin{figure}[!h]
		\begin{center}
			\includegraphics[width = \textwidth]{images/pictures/testLinearRegression/LinearRegression_calibration.png}
			\caption{Courbe de calibration dans le plan $E_{\rm ecal} = 0$.}
		\end{center}
	\end{figure}
\end{frame}

\begin{frame}{$E_{\rm calib}/E_{\rm true}$ en fonction de $(E_{\rm ecal},E_{\rm hcal})$}
\begin{figure}[!h]
\begin{center}
\includegraphics[width = \textwidth]{images/pictures/testLinearRegression/LinearRegression_ecalib_over_etrue_functionof_ecal_hcal.png}
\caption{$E_{\rm calib}/E_{\rm true}$ en fonction de $(E_{\rm ecal},E_{\rm hcal})$}
\label{LR_ecaliboveretrue_ecal_hcal}
\end{center}
\end{figure}
\end{frame}

\begin{frame}{$E_{\rm calib}/E_{\rm true}$ en fonction de $E_{\rm true}$}
\begin{figure}[!h]
\begin{center}
\includegraphics[width = \textwidth]{images/pictures/testLinearRegression/LinearRegression_ecalib_over_etrue.png}
\caption{Distribution en fonction des $E_{\rm true}$ des $E_{\rm calib}/E_{\rm true}$}
\label{LR_ecaliboveretrue_etrue}
\end{center}
\end{figure}
\end{frame}

\subsection{Méthode non paramétrique binée}
\begin{frame}{La régression linéaire}
	\begin{figure}[!h]
		\begin{center}
			\includegraphics[width = \textwidth]{images/pictures/testCalibrationLego/CalibrationLego_calibration.png}
			\caption{Courbe de calibration dans le plan $E_{\rm ecal} = 0$.}
		\end{center}
	\end{figure}
\end{frame}

\begin{frame}{$E_{\rm calib}/E_{\rm true}$ en fonction de $E_{\rm true}$}
\begin{figure}[!h]
\begin{center}
\includegraphics[width=\textwidth]{images/pictures/testCalibrationLego/CalibrationLego_ecalib_over_etrue.png}
\caption{Distribution en fonction des $E_{\rm true}$ des $E_{\rm calib}/E_{\rm true}$ Nous voyons clairement l'apparition d'une structure, liée au caractère biné de la méthode.}
\label{ecaliboveretrueCL}
\end{center}
\end{figure}
\end{frame}

\begin{frame}{$E_{\rm calib}/E_{\rm true}$ en fonction de $(E_{\rm ecal},E_{\rm hcal})$}
\begin{figure}[!h]
\begin{center}
\includegraphics[width=\textwidth]{images/pictures/testCalibrationLego/CalibrationLego_ecalib_over_etrue_functionof_ecal_hcal.png}
\caption{$E_{\rm calib}/E_{\rm true}$ en fonction de $(E_{\rm ecal},E_{\rm hcal})$}
\label{ecaliboveretrueCL_etrue}
\end{center}
\end{figure}
\end{frame}

\subsection{Moyenne pondérée}
\begin{frame}{La régression linéaire}
	\begin{figure}[!h]
		\begin{center}
			\includegraphics[width = \textwidth]{images/pictures/testKNN/KNN_calibration.png}
			\caption{Courbe de calibration dans le plan $E_{\rm ecal} = 0$.}
		\end{center}
	\end{figure}
\end{frame}

\begin{frame}{$E_{\rm calib}/E_{\rm true}$ en fonction de $(E_{\rm ecal},E_{\rm hcal})$}
\begin{figure}[!h]
\begin{center}
\includegraphics[width=\textwidth]{images/pictures/testKNN/KNN_ecalib_over_etrue_functionof_ecal_hcal.png}
\caption{$E_{\rm calib}/E_{\rm true}$ en fonction de $(E_{\rm ecal},E_{\rm hcal})$}
\label{ecaliboveretrueKNN_ecal_hcal}
\end{center}
\end{figure}
\end{frame}

\begin{frame}{$E_{\rm calib}/E_{\rm true}$ en fonction de $E_{\rm true}$}
\begin{figure}[!h]
\begin{center}
\includegraphics[width=\textwidth]{images/pictures/testKNN/KNN_ecalib_over_etrue.png}
\caption{Distribution en fonction des $E_{\rm true}$ des $E_{\rm calib}/E_{\rm true}$}
\label{ecaliboveretrueKNN}
\end{center}
\end{figure}
\end{frame}

\subsection{Nettoyage gaussien}
\begin{frame}{La régression linéaire}
	\begin{figure}[!h]
		\begin{center}
			\includegraphics[width = \textwidth]{images/pictures/testKNNGC/KNNGaussianCleaning_calibration.png}
			\caption{Courbe de calibration dans le plan $E_{\rm ecal} = 0$.}
		\end{center}
	\end{figure}
\end{frame}

\begin{frame}{$E_{\rm calib}/E_{\rm true}$ en fonction de $(E_{\rm ecal},E_{\rm hcal})$}
\begin{figure}[!h]
\begin{center}
\includegraphics[width=0.8\textwidth]{images/pictures/testKNNGC/KNNGaussianCleaning_ecalib_over_etrue_functionof_ecal_hcal.png}
\caption{$E_{\rm calib}/E_{\rm true}$ en fonction de $(E_{\rm ecal},E_{\rm hcal})$}
\label{ecaliboveretrueKNNGC_ecal_hcal}
\end{center}
\end{figure}
\end{frame}

\begin{frame}{$E_{\rm calib}/E_{\rm true}$ en fonction de $E_{\rm true}$}
\begin{figure}[!h]
\begin{center}
\includegraphics[width=0.8\textwidth]{images/pictures/testKNNGC/KNNGaussianCleaning_ecalib_over_etrue.png}
\caption{Distribution en fonction des $E_{\rm true}$ des $E_{\rm calib}/E_{\rm true}$}
\label{ecaliboveretrueKNNGC}
\end{center}
\end{figure}
\end{frame}

\subsection{Fit gaussien}
\begin{frame}{La régression linéaire}
	\begin{figure}[!h]
		\begin{center}
			\includegraphics[width = \textwidth]{images/pictures/testKNNGF/KNNGaussianFit_calibration.png}
			\caption{Courbe de calibration dans le plan $E_{\rm ecal} = 0$.}
		\end{center}
	\end{figure}
\end{frame}

\begin{frame}{$E_{\rm calib}/E_{\rm true}$ en fonction de $E_{\rm true}$}
\begin{figure}[!h]
\begin{center}
\includegraphics[width=\textwidth]{images/pictures/testKNNGF/KNNGaussianFit_ecalib_over_etrue.png}
\caption{Distribution en fonction des $E_{\rm true}$ des $E_{\rm calib}/E_{\rm true}$}
\label{ecaliboveretrueKNNGF}
\end{center}
\end{figure}
\end{frame}

\begin{frame}{$E_{\rm calib}/E_{\rm true}$ en fonction de $(E_{\rm ecal},E_{\rm hcal})$}
\begin{figure}[!h]
\begin{center}
\includegraphics[width=\textwidth]{images/pictures/testKNNGF/KNNGaussianFit_ecalib_over_etrue_functionof_ecal_hcal.png}
\caption{$E_{\rm calib}/E_{\rm true}$ en fonction de $(E_{\rm ecal},E_{\rm hcal})$}
\label{ecaliboveretrueKNNGF_ecal_hcal}
\end{center}
\end{figure}
\end{frame}

\section{Comparaisons et résultats}
\begin{frame}{$E_{\rm calib}/E_{\rm true}$ moyens en fonction de $(E_{\rm ecal},E_{\rm hcal})$}
\begin{figure}
\begin{center}
\begin{subfigure}{0.31\textwidth}
\includegraphics[width=\textwidth]{images/pictures/comparisons/ecaliboveretrue_LinearRegression.png}
\caption{Régression linéaire}
\end{subfigure}
\begin{subfigure}{0.31\textwidth}
\includegraphics[width=\textwidth]{images/pictures/comparisons/ecaliboveretrue_CalibrationLego.png}
\caption{Méthode non paramétrique binée}
\end{subfigure}
\begin{subfigure}{0.31\textwidth}
\includegraphics[width=\textwidth]{images/pictures/comparisons/ecaliboveretrue_KNN.png}
\caption{Plus proches voisins}
\end{subfigure}
\end{center}
\caption{Chaque pixel correspond à la moyenne d'un fit gaussien de points $E_{\rm calib}/E_{\rm true}$ proches des coordonnées du pixel pour les particules qui interagissent avec le ECAL et le HCAL.}
\label{comparaison2}
\end{figure}
\end{frame}

\begin{frame}{$E_{\rm calib}/E_{\rm true}$ moyens en fonction de $(E_{\rm ecal},E_{\rm hcal})$}
\begin{figure}
\begin{center}
\begin{subfigure}{0.31\textwidth}
\includegraphics[width=\textwidth]{images/pictures/comparisons/ecaliboveretrue_KNN.png}
\caption{Plus proches voisins - Moyenne pondérée}
\end{subfigure}
\begin{subfigure}{0.31\textwidth}
\includegraphics[width=\textwidth]{images/pictures/comparisons/ecaliboveretrue_KNNGaussianCleaning.png}
\caption{Plus proches voisins - Nettoyage gaussien}
\end{subfigure}
\begin{subfigure}{0.31\textwidth}
\includegraphics[width=\textwidth]{images/pictures/comparisons/ecaliboveretrue_KNNGaussianFit.png}
\caption{Plus proches voisins - Fit gaussien}
\end{subfigure}
\end{center}
\caption{Chaque pixel correspond à la moyenne d'un fit gaussien de points $E_{\rm calib}/E_{\rm true}$ proches des coordonnées du pixel pour les particules qui interagissent avec le ECAL et le HCAL.}
\label{comparaison2}
\end{figure}
\end{frame}

\begin{frame}{$E_{\rm calib}/E_{\rm true}$ moyens en fonction de $E_{\rm true}$}
\begin{figure}[!h]
\centering
\includegraphics[height=0.75\textheight]{images/pictures/comparisons/comparison2.eps}
\caption{$E_{\rm calib}/E_{\rm true}$ moyens en fonction de $E_{\rm true}$ dans les cas $E_{\rm ecal} = 0$et $\sigma$ du fit gaussien correspondant.}
\label{comparaison3}
\end{figure}
\end{frame}


\section{Conclusion}
\begin{frame}{Conclusion}

\end{frame}

\end{document}
